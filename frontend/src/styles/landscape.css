/**
 * FLAME - Landscape Mode Optimizations
 *
 * CSS específico para otimizar UX em modo paisagem (landscape)
 * Melhora aproveitamento de espaço horizontal em dispositivos móveis
 */

/* ========================================
   LANDSCAPE MODE - MOBILE ONLY
   ======================================== */

@media (max-width: 768px) and (orientation: landscape) {

  /* ========================================
     HEADER - COMPACTO
     ======================================== */

  /* Reduzir altura do header para aproveitar altura limitada */
  header {
    height: 48px !important;
    min-height: 48px !important;
  }

  header .flex.items-center.justify-between {
    height: 48px !important;
  }

  /* Logo menor em landscape */
  header .flex.items-center svg,
  header .flex.items-center img {
    width: 32px !important;
    height: 32px !important;
  }

  /* Ícones do header menores */
  header button svg,
  header a svg {
    width: 20px !important;
    height: 20px !important;
  }

  /* Badge do carrinho menor */
  header .absolute.-top-1.-right-1 {
    width: 18px !important;
    height: 18px !important;
    font-size: 10px !important;
  }

  /* User avatar menor */
  header .w-8.h-8 {
    width: 28px !important;
    height: 28px !important;
  }

  /* Menu dropdown mais compacto */
  header .absolute.right-0.mt-2 {
    max-height: 60vh !important;
    overflow-y: auto !important;
  }

  /* Mobile menu em landscape - reduzir padding */
  header .md\:hidden.bg-gray-900 .px-4.py-6 {
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
  }

  header .md\:hidden.bg-gray-900 .space-y-4 {
    gap: 0.75rem !important;
  }

  /* ========================================
     BOTTOM NAV - OCULTAR EM LANDSCAPE
     ======================================== */

  /* BottomNav ocupa muito espaço vertical em landscape */
  /* Melhor esconder e usar apenas header navigation */
  nav.md\:hidden.fixed.bottom-0 {
    display: none !important;
  }

  /* Remover padding bottom que compensa BottomNav */
  body {
    padding-bottom: 0 !important;
  }

  .safe-area-pb {
    padding-bottom: 0 !important;
  }

  /* ========================================
     HERO SECTION
     ======================================== */

  /* Hero deve aproveitar largura e reduzir altura */
  section.min-h-screen {
    min-height: auto !important;
    height: auto !important;
    padding-top: 48px !important;
    padding-bottom: 1rem !important;
  }

  /* Hero content horizontal em landscape */
  .hero-content {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    gap: 2rem !important;
    padding: 1rem !important;
  }

  /* Hero text ocupa 60% da largura */
  .hero-text {
    flex: 0 0 60% !important;
  }

  /* Hero image ocupa 40% da largura */
  .hero-image {
    flex: 0 0 40% !important;
  }

  /* Títulos menores em landscape */
  h1 {
    font-size: 2rem !important;
    line-height: 2.25rem !important;
  }

  h2 {
    font-size: 1.5rem !important;
    line-height: 2rem !important;
  }

  h3 {
    font-size: 1.25rem !important;
    line-height: 1.75rem !important;
  }

  /* ========================================
     CARDS - LAYOUT HORIZONTAL
     ======================================== */

  /* ProductCard em landscape - layout horizontal */
  .product-card {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    max-height: 140px !important;
  }

  .product-card img {
    width: 100px !important;
    height: 100px !important;
    object-fit: cover !important;
  }

  .product-card .product-info {
    flex: 1 !important;
    padding-left: 1rem !important;
  }

  /* Grid de produtos - 2 colunas em landscape */
  .grid.grid-cols-1 {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 0.75rem !important;
  }

  /* ========================================
     MODALS - FULLSCREEN EM LANDSCAPE
     ======================================== */

  /* Modals devem ocupar 100% para aproveitar espaço */
  .modal-content {
    max-height: 100vh !important;
    height: 100vh !important;
    max-width: 100vw !important;
    width: 100vw !important;
    border-radius: 0 !important;
    margin: 0 !important;
  }

  .modal-body {
    max-height: calc(100vh - 100px) !important;
    overflow-y: auto !important;
  }

  /* ========================================
     FORMS - LAYOUT HORIZONTAL
     ======================================== */

  /* Form fields em 2 colunas em landscape */
  form .space-y-4,
  form .space-y-6 {
    display: grid !important;
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: 0.75rem !important;
  }

  /* Form field que deve ocupar linha inteira */
  form .col-span-2,
  form textarea {
    grid-column: span 2 / span 2 !important;
  }

  /* ========================================
     CHECKOUT - OTIMIZADO
     ======================================== */

  /* Checkout steps horizontais em landscape */
  .checkout-steps {
    display: flex !important;
    flex-direction: row !important;
    gap: 0.5rem !important;
    overflow-x: auto !important;
  }

  .checkout-step {
    flex: 1 !important;
    min-width: auto !important;
  }

  /* Cart items mais compactos */
  .cart-item {
    padding: 0.75rem !important;
  }

  /* ========================================
     TABLES - RESPONSIVO
     ======================================== */

  /* Tables em landscape - scroll horizontal */
  .table-container {
    overflow-x: auto !important;
    max-width: 100vw !important;
  }

  table {
    font-size: 0.875rem !important;
  }

  table th,
  table td {
    padding: 0.5rem !important;
  }

  /* ========================================
     SPACING - REDUZIDO
     ======================================== */

  /* Reduzir spacing vertical para aproveitar altura */
  .space-y-8 {
    gap: 1rem !important;
  }

  .space-y-6 {
    gap: 0.75rem !important;
  }

  .space-y-4 {
    gap: 0.5rem !important;
  }

  .py-8,
  .py-12,
  .py-16 {
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
  }

  .my-8,
  .my-12,
  .my-16 {
    margin-top: 1rem !important;
    margin-bottom: 1rem !important;
  }

  /* ========================================
     CONTAINERS
     ======================================== */

  /* Containers aproveitam largura máxima */
  .container {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  .max-w-7xl,
  .max-w-6xl,
  .max-w-5xl,
  .max-w-4xl {
    max-width: 100% !important;
  }

  /* ========================================
     BUTTONS - MAIS COMPACTOS
     ======================================== */

  button,
  .btn {
    padding: 0.5rem 1rem !important;
    font-size: 0.875rem !important;
    min-height: 36px !important;
  }

  /* Buttons em grupo - horizontal */
  .button-group {
    display: flex !important;
    flex-direction: row !important;
    gap: 0.5rem !important;
  }

  /* ========================================
     IMAGES - OTIMIZADO
     ======================================== */

  /* Images em landscape - max height */
  img {
    max-height: 200px !important;
    object-fit: cover !important;
  }

  /* Hero images */
  .hero-image img,
  .hero-section img {
    max-height: 300px !important;
  }

  /* ========================================
     TEXT - COMPACTO
     ======================================== */

  /* Reduzir line-height para economizar espaço */
  p {
    line-height: 1.4 !important;
  }

  /* Textos longos - 2 colunas em landscape */
  .text-content {
    column-count: 2 !important;
    column-gap: 2rem !important;
  }

  /* ========================================
     SCROLL - OTIMIZADO
     ======================================== */

  /* Scroll horizontal para conteúdo que não cabe */
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch !important;
    scrollbar-width: thin !important;
  }

  /* ========================================
     SAFE AREAS - IOS
     ======================================== */

  /* Safe areas para iPhones em landscape */
  @supports (padding: max(0px)) {
    body {
      padding-left: max(12px, env(safe-area-inset-left)) !important;
      padding-right: max(12px, env(safe-area-inset-right)) !important;
    }

    header {
      padding-left: max(16px, env(safe-area-inset-left)) !important;
      padding-right: max(16px, env(safe-area-inset-right)) !important;
    }
  }

  /* ========================================
     ANIMATIONS - REDUZIDO
     ======================================== */

  /* Reduzir animações em landscape para melhor performance */
  * {
    animation-duration: 0.2s !important;
    transition-duration: 0.2s !important;
  }

  /* ========================================
     KEYBOARD - AJUSTES
     ======================================== */

  /* Quando keyboard aberto em landscape, ocupar menos espaço */
  input:focus,
  textarea:focus,
  select:focus {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 9999 !important;
  }
}

/* ========================================
   TABLET LANDSCAPE (768px - 1024px)
   ======================================== */

@media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {

  /* Header normal em tablets */
  header {
    height: 64px !important;
  }

  /* BottomNav visível em tablets pequenos */
  nav.md\:hidden.fixed.bottom-0 {
    display: flex !important;
  }

  /* Grid de produtos - 3 colunas em tablets landscape */
  .grid.grid-cols-1,
  .grid.grid-cols-2 {
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  }

  /* Modals não fullscreen em tablets */
  .modal-content {
    max-height: 90vh !important;
    height: auto !important;
    max-width: 600px !important;
    width: 90vw !important;
    border-radius: 0.5rem !important;
  }
}

/* ========================================
   UTILITIES
   ======================================== */

/* Hide element apenas em landscape */
.hide-landscape {
  display: none !important;
}

/* Show element apenas em landscape */
.show-landscape {
  display: block !important;
}

/* Flex row em landscape */
.landscape-row {
  display: flex !important;
  flex-direction: row !important;
}

/* Compact mode em landscape */
.landscape-compact {
  padding: 0.5rem !important;
  gap: 0.5rem !important;
}

/* ========================================
   PERFORMANCE OPTIMIZATIONS
   ======================================== */

@media (max-width: 768px) and (orientation: landscape) {

  /* GPU acceleration for better scrolling */
  * {
    -webkit-transform: translateZ(0);
    -moz-transform: translateZ(0);
    -ms-transform: translateZ(0);
    -o-transform: translateZ(0);
    transform: translateZ(0);
  }

  /* Reduce repaints/reflows */
  .scroll-container {
    -webkit-overflow-scrolling: touch;
    transform: translate3d(0, 0, 0);
    will-change: scroll-position;
  }

  /* Disable expensive hover effects on mobile */
  *:hover {
    transform: none !important;
    box-shadow: none !important;
  }
}

/* ========================================
   ACCESSIBILITY IMPROVEMENTS
   ======================================== */

@media (max-width: 768px) and (orientation: landscape) {

  /* Ensure minimum touch target size (44x44px) */
  button,
  a,
  input[type="checkbox"],
  input[type="radio"] {
    min-width: 44px !important;
    min-height: 44px !important;
  }

  /* Focus indicators more visible */
  *:focus-visible {
    outline: 2px solid #ef4444 !important;
    outline-offset: 2px !important;
  }

  /* Skip to content for keyboard users */
  .skip-to-content:focus {
    position: fixed !important;
    top: 0.5rem !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    z-index: 9999 !important;
    padding: 0.75rem 1.5rem !important;
    background: #ef4444 !important;
    color: white !important;
    text-decoration: none !important;
    border-radius: 0.375rem !important;
  }
}

/* ========================================
   ORDER TRACKING - LANDSCAPE OPTIMIZED
   ======================================== */

@media (max-width: 768px) and (orientation: landscape) {

  /* Order timeline horizontal */
  .order-timeline {
    display: flex !important;
    flex-direction: row !important;
    justify-content: space-between !important;
    align-items: center !important;
    gap: 0.5rem !important;
    overflow-x: auto !important;
  }

  .order-timeline-step {
    flex: 1 !important;
    min-width: 80px !important;
    text-align: center !important;
  }

  .order-timeline-step .icon {
    width: 32px !important;
    height: 32px !important;
  }

  .order-timeline-step .label {
    font-size: 0.75rem !important;
    margin-top: 0.25rem !important;
  }

  /* Order items list - compact */
  .order-items-list {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.5rem !important;
    max-height: 150px !important;
    overflow-y: auto !important;
  }

  .order-item {
    padding: 0.5rem !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
  }

  .order-item img {
    width: 40px !important;
    height: 40px !important;
  }
}

/* ========================================
   ADMIN DASHBOARD - LANDSCAPE
   ======================================== */

@media (max-width: 768px) and (orientation: landscape) {

  /* Stats grid - 4 columns */
  .admin-stats-grid {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 0.75rem !important;
  }

  .stat-card {
    padding: 0.75rem !important;
  }

  .stat-card .stat-label {
    font-size: 0.75rem !important;
  }

  .stat-card .stat-value {
    font-size: 1.25rem !important;
    font-weight: 700 !important;
  }

  /* Orders table - fixed header */
  .orders-table-container {
    max-height: 50vh !important;
    overflow-y: auto !important;
  }

  .orders-table thead {
    position: sticky !important;
    top: 0 !important;
    background: white !important;
    z-index: 10 !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
  }
}

/* ========================================
   KITCHEN DISPLAY - LANDSCAPE
   ======================================== */

@media (max-width: 768px) and (orientation: landscape) {

  /* Orders grid - 3 columns */
  .kitchen-orders-grid {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 0.75rem !important;
  }

  /* Order ticket - compact */
  .kitchen-order-ticket {
    padding: 0.75rem !important;
    max-height: 200px !important;
  }

  .kitchen-order-header {
    padding: 0.5rem !important;
    font-size: 0.875rem !important;
  }

  .kitchen-order-items {
    max-height: 100px !important;
    overflow-y: auto !important;
    font-size: 0.75rem !important;
  }

  .kitchen-order-actions {
    padding: 0.5rem !important;
  }

  .kitchen-order-actions button {
    padding: 0.375rem 0.75rem !important;
    font-size: 0.75rem !important;
  }
}

/* ========================================
   PRINT STYLES
   ======================================== */

@media print {
  /* Hide non-essential elements when printing */
  header,
  nav,
  .sidebar,
  .cart,
  button:not(.print-visible),
  .no-print {
    display: none !important;
  }

  /* Optimize for print */
  body {
    font-size: 12pt !important;
    line-height: 1.5 !important;
    color: black !important;
    background: white !important;
  }

  /* Page breaks */
  .order-card,
  .product-card,
  .page-break {
    page-break-inside: avoid !important;
  }

  /* Print-friendly images */
  img {
    max-width: 100% !important;
    height: auto !important;
    page-break-inside: avoid !important;
  }

  /* Show print-only content */
  .print-only {
    display: block !important;
  }
}
