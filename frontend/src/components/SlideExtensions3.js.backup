import { motion } from 'framer-motion';
import { Clock, User, Users, DollarSign, AlertTriangle, CheckCircle, Calendar, Wrench, Package, Rocket, TrendingUp } from 'lucide-react';

// Parte 3: Slides de Estrutura, Pap√©is, Timeline e Fases
export const renderStructureSlides = (slide, textSize, getTextSize, fadeIn) => {

  // SLIDE: ROLES 4 PARTNERS (PAP√âIS 4 S√ìCIOS)
  if (slide.type === 'roles-4partners') {
    return (
      <div className="h-full flex flex-col bg-black">
        <motion.h2 {...fadeIn} className="text-6xl font-bold text-white pt-12 pb-8 text-center">
          {slide.title}
        </motion.h2>

        <div className="flex-1 overflow-y-auto scrollbar-hide px-12 pb-12">
          <div className="max-w-7xl mx-auto space-y-6">
            {/* 4 Quadrantes dos S√≥cios */}
            <div className="grid grid-cols-2 gap-6">
              {slide.partners.map((partner, idx) => {
                const colors = [
                  { border: 'border-amber-500', bg: 'from-amber-900/30', text: 'text-amber-400' }, // Azevedo
                  { border: 'border-blue-500', bg: 'from-blue-900/30', text: 'text-blue-400' },     // Leonardo
                  { border: 'border-purple-500', bg: 'from-purple-900/30', text: 'text-purple-400' }, // Figueiredo
                  { border: 'border-green-500', bg: 'from-green-900/30', text: 'text-green-400' }  // Luiz
                ];
                const color = colors[idx];

                return (
                  <motion.div
                    key={idx}
                    initial={{ opacity: 0, scale: 0.95 }}
                    animate={{ opacity: 1, scale: 1 }}
                    transition={{ delay: 0.2 + idx * 0.1 }}
                    className={`bg-gradient-to-br ${color.bg} to-transparent border-2 ${color.border} rounded-xl p-6`}
                  >
                    <div className="text-center mb-4">
                      <h3 className={`text-2xl font-black ${color.text} mb-1`}>{partner.name} ({partner.percent})</h3>
                      <p className={`${getTextSize('sm')} text-gray-400`}>{partner.role}</p>
                      <p className="text-xl font-bold text-white mt-2">üí∞ {partner.proLabore || `PR√ì-LABORE: ${partner.percent}`}</p>
                      <p className={`${getTextSize('sm')} text-gray-400 flex items-center justify-center gap-2 mt-1`}>
                        <Clock className="w-4 h-4" />
                        {partner.dedicacao}
                      </p>
                    </div>
                    <div className={`${getTextSize('base')} text-gray-300 space-y-2`}>
                      {partner.tasks.map((task, i) => (
                        <div key={i} className="flex items-start gap-2">
                          <CheckCircle className="w-4 h-4 text-green-400 flex-shrink-0 mt-1" />
                          <p>{task}</p>
                        </div>
                      ))}
                    </div>
                  </motion.div>
                );
              })}
            </div>

            {/* Decis√µes em Conjunto */}
            {slide.juntos && (
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.7 }}
                className="bg-gradient-to-r from-red-900/30 to-transparent border-2 border-red-500 rounded-xl p-6 text-center"
              >
                <h3 className="text-2xl font-bold text-red-400 mb-4">{slide.juntos.title}</h3>
                <div className={`${getTextSize('lg')} text-gray-300 grid grid-cols-3 gap-4`}>
                  {slide.juntos.items.map((item, i) => (
                    <p key={i}>{item}</p>
                  ))}
                </div>
              </motion.div>
            )}
          </div>
        </div>
      </div>
    );
  }

  // SLIDE: ROLES (PAP√âIS)
  if (slide.type === 'roles') {
    return (
      <div className="h-full flex flex-col bg-black">
        <motion.h2 {...fadeIn} className="text-6xl font-bold text-white pt-12 pb-8 text-center">
          {slide.title}
        </motion.h2>

        <div className="flex-1 overflow-y-auto scrollbar-hide px-12 pb-12">
          <div className="max-w-6xl mx-auto space-y-8">
          {/* Leonardo e Rodrigo */}
          <div className="grid grid-cols-2 gap-8 mb-8">
            <motion.div
              initial={{ opacity: 0, x: -30 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ delay: 0.2 }}
              className="bg-gradient-to-br from-blue-900/30 to-transparent border-2 border-blue-500 rounded-xl p-8"
            >
              <h3 className="text-3xl font-bold text-blue-400 mb-6 text-center">{slide.leonardo.title}</h3>
              <div className={`${getTextSize('lg')} text-gray-300 space-y-3 mb-8`}>
                {slide.leonardo.tasks.map((task, i) => (
                  <p key={i}>{task}</p>
                ))}
              </div>
              <div className="bg-blue-900/40 rounded-lg p-4 text-center">
                <div className="flex items-center justify-center gap-2 mb-1">
                  <Clock className="w-5 h-5 text-white" />
                  <p className="text-xl font-bold text-white">DEDICA√á√ÉO</p>
                </div>
                <p className={`${getTextSize('base')} text-gray-300 whitespace-pre-line`}>
                  {slide.leonardo.dedicacao}
                </p>
              </div>
            </motion.div>

            <motion.div
              initial={{ opacity: 0, x: 30 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ delay: 0.3 }}
              className="bg-gradient-to-br from-amber-900/30 to-transparent border-2 border-amber-500 rounded-xl p-8"
            >
              <h3 className="text-3xl font-bold text-amber-400 mb-6 text-center">{slide.rodrigo.title}</h3>
              <div className={`${getTextSize('lg')} text-gray-300 space-y-3 mb-8`}>
                {slide.rodrigo.tasks.map((task, i) => (
                  <p key={i}>{task}</p>
                ))}
              </div>
              <div className="bg-amber-900/40 rounded-lg p-4 text-center">
                <div className="flex items-center justify-center gap-2 mb-1">
                  <Clock className="w-5 h-5 text-white" />
                  <p className="text-xl font-bold text-white">DEDICA√á√ÉO</p>
                </div>
                <p className={`${getTextSize('base')} text-gray-300 whitespace-pre-line`}>
                  {slide.rodrigo.dedicacao}
                </p>
              </div>
            </motion.div>
          </div>

          {/* Juntos */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.5 }}
            className="bg-gradient-to-r from-green-900/30 to-transparent border-2 border-green-500 rounded-xl p-8 text-center"
          >
            <h3 className="text-3xl font-bold text-green-400 mb-6">{slide.juntos.title}</h3>
            <div className={`${getTextSize('xl')} text-gray-300 grid grid-cols-2 gap-6`}>
              {slide.juntos.items.map((item, i) => (
                <p key={i}>{item}</p>
              ))}
            </div>
          </motion.div>
        </div>
      </div>
    );
  }

  // SLIDE: SOCIETY (ESTRUTURA SOCIET√ÅRIA)
  if (slide.type === 'society') {
    return (
      <div className="h-full flex flex-col bg-black">
        <motion.h2 {...fadeIn} className="text-6xl font-bold text-white pt-12 pb-8 text-center">
          {slide.title}
        </motion.h2>

        <div className="flex-1 overflow-y-auto scrollbar-hide px-12 pb-12">
          <div className="max-w-6xl mx-auto space-y-8">
          {/* Participa√ß√£o */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.2 }}
            className="bg-gray-900 border border-gray-700 rounded-xl p-8"
          >
            <h3 className="text-3xl font-bold text-red-400 mb-6 text-center">PARTICIPA√á√ÉO</h3>
            <div className="space-y-4">
              {slide.participacao.map((item, i) => (
                <div key={i} className="flex items-center justify-between bg-gray-800 rounded-lg p-4">
                  <div className="flex items-center gap-4">
                    <div className="text-5xl font-black text-red-400">{item.percent}</div>
                    <div>
                      <p className="text-2xl font-bold text-white">{item.socio}</p>
                      <p className={`${getTextSize('base')} text-gray-400`}>{item.valor}</p>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </motion.div>

          {/* Pr√≥-labore e Lucro */}
          <div className="grid grid-cols-2 gap-8">
            <motion.div
              initial={{ opacity: 0, x: -20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ delay: 0.4 }}
              className="bg-blue-900/30 border-2 border-blue-500 rounded-xl p-6"
            >
              <h4 className="text-2xl font-bold text-blue-400 mb-4 text-center">PR√ì-LABORE MENSAL</h4>
              <div className="space-y-3 mb-4">
                {slide.proLabore.items.map((item, i) => (
                  <div key={i} className="flex justify-between">
                    <span className={`${getTextSize('lg')} text-gray-300`}>{item.socio}:</span>
                    <span className="text-xl font-bold text-white">{item.valor}</span>
                  </div>
                ))}
              </div>
              <div className="border-t-2 border-blue-600 pt-3 flex justify-between">
                <span className="text-xl font-bold text-white">TOTAL:</span>
                <span className="text-2xl font-bold text-blue-400">{slide.proLabore.total}</span>
              </div>
            </motion.div>

            <motion.div
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ delay: 0.5 }}
              className="bg-green-900/30 border-2 border-green-500 rounded-xl p-6"
            >
              <h4 className="text-2xl font-bold text-green-400 mb-4 text-center">LUCRO</h4>
              <div className={`${getTextSize('lg')} text-gray-300 space-y-3`}>
                {slide.lucro.map((item, i) => (
                  <p key={i}>{item}</p>
                ))}
              </div>
            </motion.div>
          </div>

          {/* Marca */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.7 }}
            className="bg-amber-900/20 border border-amber-700 rounded-xl p-6"
          >
            <h4 className="text-2xl font-bold text-amber-400 mb-4 text-center">{slide.marca.title}</h4>
            <div className={`${getTextSize('lg')} text-gray-300 space-y-2`}>
              {slide.marca.items.map((item, i) => (
                <p key={i}>{item}</p>
              ))}
            </div>
          </motion.div>
        </div>
      </div>
    );
  }

  // SLIDE: DECISIONS TABLE
  if (slide.type === 'decisions-table') {
    return (
      <div className="h-full flex flex-col bg-black">
        <motion.h2 {...fadeIn} className="text-6xl font-bold text-white pt-12 pb-8 text-center">
          {slide.title}
        </motion.h2>

        <div className="flex-1 overflow-y-auto scrollbar-hide px-12 pb-12">
          <div className="max-w-6xl mx-auto space-y-8">
          {/* Tabela */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.2 }}
            className="bg-gray-900 border border-gray-700 rounded-xl p-6 overflow-hidden"
          >
            <table className="w-full">
              <thead>
                <tr className="border-b-2 border-gray-700">
                  {slide.table.headers.map((header, i) => (
                    <th key={i} className="text-xl font-bold text-red-400 pb-4 text-left px-3 first:pl-0">
                      {header}
                    </th>
                  ))}
                </tr>
              </thead>
              <tbody>
                {slide.table.rows.map((row, i) => (
                  <tr
                    key={i}
                    className={`border-b border-gray-800 ${row.highlight ? 'bg-red-900/20' : ''}`}
                  >
                    <td className={`${getTextSize('base')} text-gray-300 py-4 px-3 pl-0`}>
                      {row.highlight ? <strong className="text-white">{row.decisao}</strong> : row.decisao}
                    </td>
                    <td className={`${getTextSize('base')} ${row.highlight ? 'text-white font-bold' : 'text-gray-300'} py-4 px-3`}>
                      {row.quem}
                    </td>
                    <td className={`${getTextSize('base')} ${row.highlight ? 'text-red-400 font-bold' : 'text-gray-300'} py-4 px-3`}>
                      {row.limite}
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </motion.div>

          {/* Conflito */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.4 }}
            className="bg-yellow-900/20 border-2 border-yellow-600 rounded-xl p-8 text-center"
          >
            <h3 className="text-3xl font-bold text-yellow-400 mb-6">{slide.conflito.title}</h3>
            <div className={`${getTextSize('xl')} text-gray-300 space-y-3`}>
              {slide.conflito.steps.map((step, i) => (
                <p key={i} className={step === '' ? 'my-4' : ''}>{step}</p>
              ))}
            </div>
          </motion.div>
        </div>
      </div>
    );
  }

  // SLIDE: PROJECT TIMELINE
  if (slide.type === 'project-timeline') {
    const timelineIconMap = {
      'üìê': Wrench,
      'üì¶': Package,
      'üöÄ': Rocket,
      'üìà': TrendingUp,
      '‚úÖ': CheckCircle,
      'üéØ': CheckCircle,
    };

    return (
      <div className="h-full flex flex-col bg-black">
        <motion.h2 {...fadeIn} className="text-6xl font-bold text-white pt-12 pb-8 text-center">
          {slide.title}
        </motion.h2>

        <div className="flex-1 overflow-y-auto scrollbar-hide px-12 pb-12">
          <div className="max-w-7xl mx-auto">
          {/* Timeline */}
          <div className="relative mb-12">
            <div className="absolute top-1/2 left-0 right-0 h-1 bg-gray-700" />
            <div className="relative grid grid-cols-6 gap-4">
              {slide.timeline.map((fase, i) => {
                const TimelineIcon = timelineIconMap[fase.icon] || Calendar;
                return (
                  <motion.div
                    key={i}
                    initial={{ opacity: 0, y: -30 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: 0.2 + i * 0.1 }}
                    className="flex flex-col items-center"
                  >
                    <div className="w-4 h-4 rounded-full bg-red-500 border-4 border-black mb-4" />
                    <div className="bg-gray-900 border border-gray-700 rounded-xl p-4 text-center w-full">
                      <p className={`${getTextSize('sm')} text-gray-400 mb-2`}>{fase.mes}</p>
                      <TimelineIcon className="w-10 h-10 mx-auto mb-2 text-red-400" />
                      <h4 className="text-lg font-bold text-white mb-2">{fase.fase}</h4>
                      <p className={`${getTextSize('sm')} text-gray-400 mb-1`}>{fase.custo}</p>
                      <p className={`${getTextSize('sm')} text-gray-300`}>{fase.detalhe}</p>
                    </div>
                  </motion.div>
                );
              })}
            </div>
          </div>

          {/* Destaques */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.8 }}
            className="bg-green-900/30 border-2 border-green-500 rounded-xl p-6 text-center"
          >
            <div className={`${getTextSize('xl')} text-gray-300 space-y-2`}>
              {slide.highlight.map((item, i) => (
                <p key={i}>{item}</p>
              ))}
            </div>
          </motion.div>
          </div>
        </div>
      </div>
    );
  }

  return null;
};
